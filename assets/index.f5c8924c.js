var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,i,h)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):t[i]=h,s=(e,t)=>{for(var i in t||(t={}))r.call(t,i)&&n(e,i,t[i]);if(h)for(var i of h(t))o.call(t,i)&&n(e,i,t[i]);return e},l=(e,h)=>t(e,i(h));import{r as a,j as g}from"./vendor.e2ab791d.js";const c={PEAK:"PEAK",INTEGRAL:"INTEGRAL",RANGE:"RANGE",ZONE:"ZONE",EXCLUSION_ZONE:"EXCLUSION_ZONE"},p=a.createContext();function d(e,t){switch(t.type){case"SHOW":{const{convertedHighlights:i,type:h}=t.payload,r=l(s({},e),{highlights:s({},e.highlights),type:h});for(const e of i)e in r.highlights||(r.highlights[e]=1);return r.highlighted=Object.keys(r.highlights),r}case"HIDE":{const{convertedHighlights:i}=t.payload,h=l(s({},e),{highlights:s({},e.highlights),type:null});for(const e of i)e in h.highlights&&delete h.highlights[e];return h.highlighted=Object.keys(h.highlights),h}case"SET_PERMANENT":return l(s({},e),{highlightedPermanently:t.payload});case"UNSET_PERMANENT":return l(s({},e),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${t.type}`)}}const u={highlights:{},highlighted:[],highlightedPermanently:[],type:null};function y(e){const[t,i]=a.useReducer(d,u),h=a.useMemo((()=>({highlight:t,dispatch:i})),[t]);return g(p.Provider,{value:h},e.children)}function E(){return a.useContext(p)}function f(e,t=null){if(!Array.isArray(e))throw new Error("highlights must be an array");const i=E(),h=a.useMemo((()=>{const t=[];for(const i of e){if("string"!=typeof i&&"number"!=typeof i)throw new Error("highlight key must be a string or number");""!==i&&t.push(String(i))}return t}),[e]);a.useEffect((()=>()=>{i.dispatch({type:"HIDE",payload:{convertedHighlights:h}}),i.dispatch({type:"UNSET_PERMANENT"})}),[]);const r=a.useMemo((()=>i.highlight.highlighted.some((e=>h.includes(e)))),[i.highlight.highlighted,h]),o=a.useMemo((()=>i.highlight.highlightedPermanently.some((e=>h.includes(e)))),[i.highlight.highlightedPermanently,h]),n=a.useCallback((()=>{i.dispatch({type:"SHOW",payload:{convertedHighlights:h,type:t}})}),[i,h,t]),s=a.useCallback((()=>{i.dispatch({type:"HIDE",payload:{convertedHighlights:h}})}),[i,h]),l=a.useCallback((e=>{i.dispatch({type:"SHOW",payload:{convertedHighlights:[],id:e}})}),[i]),g=a.useCallback((e=>{i.dispatch({type:"HIDE",payload:{convertedHighlights:[],id:e}})}),[i]),c=a.useCallback((e=>{e&&(e.preventDefault(),e.stopPropagation()),o?i.dispatch({type:"UNSET_PERMANENT"}):i.dispatch({type:"SET_PERMANENT",payload:h})}),[i,h,o]);return{isActive:r,show:n,hide:s,onHover:{onMouseEnter:n,onMouseLeave:s},onClick:{onClick:c},isActivePermanently:o,click:c,add:l,remove:g}}export{y as H,c as T,E as a,f as u};
//# sourceMappingURL=index.f5c8924c.js.map
